{% extends 'base.html.twig' %}

{% block title %}Evenement index{% endblock %}


{% block body %}

<main id="main" class="main">



    <h1>Gestion Evenement </h1>
    <a href="{{ path('app_evenement_new') }}"  class="btn btn-info">Ajouter</a>
    <a href="{{ path('listp') }}" class="btn btn-danger" >To PDF</a>
    <a href="{{ path('calendar') }}"  class="btn btn-info">Calendar </a>


    <div>

        <script src="{{asset('assets/js/jquery.min.js')}}"></script>

        <table class="table">
            <thead>
            <tr>
                <th scope="col">   <form class="search-form d-none d-md-block" action="#">
                        <i class="icon-magnifier"></i>
                        <input type="search" class="form-control" id="search"  placeholder="Search Here" title="Search here">
                    </form>
                </th>




        <th scope="col">
        <li class="nav-item dropdown language-dropdown d-none d-sm-flex align-items-center">
            <a class="nav-link d-flex align-items-center dropdown-toggle" id="LanguageDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                <div class="d-inline-flex mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM192 192c35.35 0 64 28.65 64 64s-28.65 64-64 64S128 291.3 128 256S156.7 192 192 192zM288 448H96c-8.836 0-16-7.164-16-16C80 387.8 115.8 352 160 352h64c44.18 0 80 35.82 80 80C304 440.8 296.8 448 288 448z"/></svg>
                </div>
                <i class="fa-solid fa-arrows-left-right-to-line"></i>
                <span class="profile-text font-weight-normal">Trier Par  </span>
            </a>
            <div class="dropdown-menu dropdown-menu-left navbar-dropdown py-2" aria-labelledby="LanguageDropdown">
                <a class="dropdown-item" href="{{ path('trie_prix') }}">
                    <i class="fa-solid fa-cloud-bolt"></i>Prix ( de  bas vers haut ) </a>
                <a class="dropdown-item" href="{{ path('trie_chanteur') }}">
                    <i class="fa-solid fa-cloud-bolt"></i>Trie Par chanteur ( en ordre alphab√©tique ) </a>



            </div>
        </li>
    </th>
            </tr>
            </thead>
        </table>

        <br>


        <script>
            function print() {
                let frame = document.getElementById('frame');
                frame.contentWindow.focus();
                frame.style.visibility = "hidden";
                frame.contentWindow.print();
            }
        </script>




        <h2> PDF Preview </h2>

        <iframe src="/evenement/listp" id="frame" width="400" height="400"></iframe><br>



        <button onclick="print()">Print PDF</button>





        <table class="table" id="tableac" >
            <thead>
            <tr><td>
                </td>
            </tr>

            <tr>



        <div id="calendar-holder"></div>


        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/main.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.1.0/main.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.1.0/main.min.css">
            <link rel="stylesheet" href="/path/to/cdn/bootstrap.min.css" />

        <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/main.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@4.1.0/main.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.1.0/main.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.1.0/main.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>



                <!-- jQuery Is Required For <a href="https://www.jqueryscript.net/tags.php?/bootstrap 4/">Bootstrap 4</a> -->
                <script src="/public/cdn/jquery.min.js"></script>
                <!-- Core Stylesheet -->
                <link href="/public/css/star-rating.min.css" rel="stylesheet" />
                <!-- Core JavaScript -->
                <script src="/public/js/star-rating.min.js"></script>
                <!-- Languages -->
                <script src="/public/js//locales/de.js"></script>
                <!-- krajee-fa Theme -->
                <link href="/public/themes/krajee-fa/theme.min.css" rel="stylesheet" />
                <script src="/public/themes/krajee-fa/theme.min.js"></script>
                <!-- krajee-fas Theme -->
                <link href="/public/themes/krajee-fas/theme.min.css" rel="stylesheet" />
                <script src="/public/themes/krajee-fas/theme.min.js"></script>
                <!-- krajee-svg Theme -->
                <link href="/public/themes/krajee-svg/theme.min.css" rel="stylesheet" />
                <script src="/public/themes/krajee-svg/theme.min.js"></script>
                <!-- krajee-uni Theme -->
                <link href="/public/themes/krajee-uni/theme.min.css" rel="stylesheet" />
                <script src="/public/themes/krajee-uni/theme.min.js"></script>
                <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script>


                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
                <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">




                <th>Type Event</th>
                <th>Chanteur</th>
                <th>Adresse</th>
                <th>Date Event</th>
                <th>Date End</th>
                <th>Prix</th>
                <th>Image</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>

        {% for evenement in evenements %}
            <tr>
                <td>{{ evenement.typeEvent }}</td>
                <td>{{ evenement.chanteur }}</td>
                <td>{{ evenement.adresse }}</td>
                <td>{{ evenement.dateEvent ? evenement.dateEvent|date('Y-m-d ') : '' }}</td>
                <td>{{ evenement.dateend ? evenement.dateend|date('Y-m-d') : '' }}</td>
                <td>{{ evenement.prixE }}</td>

                <td>
                    <img src="{{asset('assets/img/'~evenement.image)}}">
                </td>


                <td>
                    <a href="{{ path('app_evenement_show', {'ide': evenement.ide}) }}" class="btn btn-danger" >Afficher</a>
                    <a href="{{ path('app_evenement_edit', {'ide': evenement.ide}) }}" class="btn btn-danger" >Modifier</a>


                </td>
            </tr>


        {% endfor %}

        <script>
            $(document).ready(function(){
                $('#search').keyup(function(){
                    search_table($(this).val());
                });
                function search_table(value){
                    $('#tableac tbody tr').each(function(){
                        var found = 'false';
                        $(this).each(function(){
                            if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)
                            {
                                found = 'true';
                            }
                        });
                        if(found == 'true')
                        {
                            $(this).show();
                        }
                        else
                        {
                            $(this).hide();
                        }
                    });
                }
            });
        </script>

            </tbody>

        </table>
    </div>


        <tr>


            <td>  <div class="navigation">
                    {{ knp_pagination_render(evenements) }}
            </td>
        </tr>


        </tbody>
    </table>
    </div>





</main>
{% endblock %}










